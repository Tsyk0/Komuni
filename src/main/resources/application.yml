server:
  port: 8081

spring:
  security:
    enabled: false
  cache:
    type: redis
  redis:
    host: localhost
    port: 6379
    timeout: 2s
  datasource:
    url: jdbc:mysql://localhost:3306/komuni?useSSL=false
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
  mybatis-plus:
    configuration:
      map-underscore-to-camel-case: true
      #下划线互通驼峰
  jackson:
    time-zone: Asia/Shanghai
    date-format: yyyy-MM-dd
    time-format: HH:mm:ss
    datetime-format: yyyy-MM-dd HH:mm:ss
    serialization:
      write-dates-as-timestamps: false
  # 在这里添加文件上传配置
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB
      # 配置静态资源访问
  web:
    resources:
      static-locations: classpath:/static/,file:./uploads/

# 在spring配置块之外添加文件上传路径配置
# application.yml
jwt:
  secret-key: TSKEY  # 确保有这个配置
  expiration: 86400000

file:
  upload:
    path: ${FILE_UPLOAD_PATH:./uploads/}
    max-size: 10MB
    allowed-types: image/jpeg,image/png,application/pdf

knife4j:
  enable: true
  # 生产环境建议关闭
  production: false
  # 开启增强功能
  setting:
    language: zh-CN
    enable-footer-custom: true
    footer-custom-content: Tsyk0
    enable-swagger-models: true
    swagger-model-name: 实体类列表
app:
  upload:
    path: ./uploads/          # 上传文件存储根路径
    avatar-path: /avatars/    # 头像子目录
  # Cookie：开发用 Lax，生产(HTTPS) 可改为 same-site: None, secure: true
  cookie:
    same-site: Lax
    secure: false